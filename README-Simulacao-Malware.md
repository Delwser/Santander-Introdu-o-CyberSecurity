# ‚ö†Ô∏è Projeto: Simula√ß√£o Educacional de Malware (Ransomware & Keylogger) ‚Äì Ambiente Controlado

> **Aviso √©tico e legal:** Este reposit√≥rio destina-se exclusivamente a fins educacionais, em ambiente controlado e com permiss√£o expl√≠cita. N√£o utilize nenhum dos materiais aqui fora de um laborat√≥rio isolado. N√£o fornecemos c√≥digo malicioso que possa ser executado em sistemas alheios ou redes de produ√ß√£o.

---

## üìå Objetivo do Projeto

Documentar e demonstrar, de forma segura e did√°tica, os conceitos por tr√°s de:

* **Ransomware (simulado)** ‚Äî comportamento de cifragem/descrifra√ß√£o demonstrado de forma n√£o destrutiva.
* **Keylogger (simulado)** ‚Äî fluxo de captura de eventos e transmiss√£o de logs com exemplos *simulados*, sem capturar teclas reais em sistemas de terceiros.

O foco √© aprendizado, detec√ß√£o e mitiga√ß√£o.

---

## üìÅ Estrutura sugerida do reposit√≥rio

```
/ (root)
‚îú‚îÄ README.md
‚îú‚îÄ /scripts
‚îÇ  ‚îú‚îÄ criar_arquivos_teste.py            # gera arquivos de texto para experimentos
‚îÇ  ‚îú‚îÄ simulador_ransomware.py            # SIMULADOR N√ÉO-DESTRUTIVO (renomeia e registra)
‚îÇ  ‚îú‚îÄ simulador_keylogger.py             # SIMULADOR que grava eventos simulados (n√£o captura teclado real)
‚îÇ  ‚îî‚îÄ analisador_logs.py                 # scripts de detec√ß√£o/parse de logs
‚îú‚îÄ /wordlists
‚îÇ  ‚îî‚îÄ exemplo_wordlist.txt
‚îú‚îÄ /images
‚îÇ  ‚îî‚îÄ (screenshots e evid√™ncias)
‚îî‚îÄ LICENSE
```

---

## üõ†Ô∏è Ambiente de Teste (recomendado)

* **M√°quina atacada:** VM com sistema isolado (ex.: Ubuntu ou Windows em VirtualBox/VMware) ‚Äî snapshots antes e depois
* **M√°quina atacante/analista:** Kali ou host local para an√°lise
* Rede: **Host-only** ou NAT com regras que impe√ßam tr√°fego externo
* Permiss√µes: apenas use VMs que voc√™ possua/controle

---

## üî¨ Ransomware ‚Äî abordagem segura (simula√ß√£o)

**Descri√ß√£o:** Em vez de cifrar arquivos reais, o simulador deve *marcar* arquivos como criptografados de forma revers√≠vel e n√£o destrutiva. Isso facilita demonstra√ß√£o e recupera√ß√£o total.

**Comportamento sugerido do `simulador_ransomware.py`:**

* Gera um *manifest.json* com mapeamento dos arquivos alvo
* Renomeia arquivos (ex.: `documento.txt` ‚Üí `documento.txt.simulado`) ou cria uma c√≥pia com sufixo
* Adiciona uma nota de resgate em um arquivo `README_RESCUE.txt` (texto did√°tico)
* Permite a√ß√£o de revers√£o que restaura os nomes originais e remove o manifesto

> **Exemplo de boas pr√°ticas:** nunca sobrescrever o arquivo original; trabalhar com c√≥pias ou somente renomear.

---

## ‚å®Ô∏è Keylogger ‚Äî abordagem segura (simula√ß√£o)

**Descri√ß√£o:** Em vez de capturar eventos de teclado reais, o script deve **reproduzir** um conjunto pr√©-gravado de entradas (ex.: um arquivo `simulated_input.txt`) e demonstrar a persist√™ncia/local de exfiltra√ß√£o (por exemplo, gravar em `log.txt` e simular envio por e-mail mostrando o cabe√ßalho e o anexo sem realmente enviar).

**Funcionalidades sugeridas do `simulador_keylogger.py`:**

* L√™ um arquivo `simulated_input.txt` com frases/linhas
* Grava num log formatado com timestamps
* Simula envio mostrando o corpo do e-mail e o arquivo anexo (n√£o realizar envio real sem consentimento)

> N√£o incluir c√≥digo que capture teclas do usu√°rio final sem consentimento.

---

## üîé Detec√ß√£o e Mitiga√ß√£o (se√ß√£o essencial do README)

Inclua subse√ß√µes com:

* **Sinais de comprometimento:** arquivos renomeados em massa, picos de E/S, processos desconhecidos, conex√µes de rede at√≠picas
* **T√©cnicas de preven√ß√£o:** backups off-site, pol√≠ticas de senha, least privilege, atualiza√ß√µes, EDR/antiv√≠rus, MFA
* **Procedimentos de resposta:** isolamento do host, preserva√ß√£o de evid√™ncias (snapshot), an√°lise forense, comunica√ß√£o

---

## üìã Evid√™ncias e Documenta√ß√£o

* Adicione capturas de tela em `/images` demonstrando cada etapa (navegador DVWA, terminal, outputs do simulador)
* Anexe `manifest.json` e logs de execu√ß√£o
* Explique passo-a-passo os comandos utilizados e o porqu√™ de cada escolha

---

## üìö Refer√™ncias e Recursos

* Python docs
* `cryptography` (para estudos te√≥ricos sobre cifragem)
* `pynput` (somente para leitura te√≥rica ‚Äî n√£o usar para criar keyloggers em ambientes n√£o autorizados)
* Materiais do curso

---

## ‚úÖ Entrega

No `README.md` final inclua:

* Link para o reposit√≥rio p√∫blico
* Resumo do que foi feito
* Instru√ß√µes para reproduzir em ambiente controlado
* Reflex√£o sobre mitiga√ß√£o e aprendizado

---

## üß© Scripts de exemplo (SIMULADOS e N√ÉO-DESTRUTIVOS)

> Os trechos abaixo s√£o **simula√ß√µes seguras**. Eles N√ÉO sobrescrevem conte√∫do original ‚Äî apenas renomeiam e registram a√ß√µes para fins did√°ticos.

**scripts/criar_arquivos_teste.py**

```python
from pathlib import Path

p = Path('test_files')
p.mkdir(exist_ok=True)
for i in range(1, 6):
    (p / f'doc_{i}.txt').write_text(f'Conteudo do arquivo {i}\nLinha de teste')
print('Arquivos de teste criados em ./test_files')
```

**scripts/simulador_ransomware.py** (comportamento seguro: renomeia e registra)

```python
import json
from pathlib import Path

p = Path('test_files')
manifest = {}
for f in p.glob('*.txt'):
    new_name = f.name + '.simulado'
    f.rename(p / new_name)
    manifest[new_name] = f.name

with open('manifest.json', 'w') as m:
    json.dump(manifest, m)

Path('README_RESCUE.txt').write_text('Este √© um exemplo de nota de resgate educacional. Nao pague nada em ambiente real.')
print('Simula√ß√£o conclu√≠da. Manifest salvo em manifest.json')
```

**scripts/reverter_simulador.py**

```python
import json
from pathlib import Path

with open('manifest.json') as m:
    manifest = json.load(m)

p = Path('test_files')
for new_name, orig_name in manifest.items():
    (p / new_name).rename(p / orig_name)

Path('manifest.json').unlink()
Path('README_RESCUE.txt').unlink()
print('Revers√£o conclu√≠da. Arquivos restaurados.')
```

**scripts/simulador_keylogger.py** (SIMULADO ‚Äî n√£o captura teclado real)

```python
from datetime import datetime

with open('simulated_input.txt') as s, open('captura_log.txt', 'w') as out:
    for line in s:
        ts = datetime.utcnow().isoformat() + 'Z'
        out.write(f'[{ts}] {line.strip()}\n')
print('Log simulado gravado em captura_log.txt')
```

---
